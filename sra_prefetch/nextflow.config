/*
 * Nextflow config for SRA Prefetch pipeline
 */

// Enable DSL 2
nextflow.enable.dsl = 2

// Default parameters
params {
    ngc_file = null
    sra_list_file = null
    max_file_size = 500  // Max expected file size in GB (default: 500 GB)
    outdir = "results"
}

// Process defaults
process {
    // Default container
    container = "quay.io/biocontainers/sra-tools:3.0.3--h87f3376_0"
    
    // Default resources
    cpus = 2
    memory = '8 GB'
    disk = '500 GB'
}

// Container engine settings
docker {
    enabled = true
}

singularity {
    enabled = false
}

// Manifest for pipeline metadata
manifest {
    name = 'sra-prefetch'
    author = 'Cirro Custom Pipelines'
    description = 'Download SRA files using prefetch with NGC key authentication'
    version = '1.0.0'
    nextflowVersion = '>=22.10.0'
}

// Timeline and reports (Cirro captures these)
timeline {
    enabled = true
    file = "${params.outdir}/pipeline_info/timeline.html"
}

report {
    enabled = true
    file = "${params.outdir}/pipeline_info/report.html"
}

trace {
    enabled = true
    file = "${params.outdir}/pipeline_info/trace.txt"
}

